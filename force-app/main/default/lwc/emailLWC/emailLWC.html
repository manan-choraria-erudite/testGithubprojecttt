<template>
	<lightning-card>



		<!-- tooltip -->
		<!-- <div style="padding-left:2rem;padding-top:6.75rem;position:relative">
<a href="#" aria-describedby="help">
<span class="slds-icon_container slds-icon-utility-info">
<svg class="slds-icon slds-icon slds-icon_xx-small slds-icon-text-default" aria-hidden="true">

</svg>
<span class="slds-assistive-text">Click here to learn more</span>
</span>
</a>
<div class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left" role="tooltip" id="help" style="position:absolute;top:-4px;left:15px">
<div class="slds-popover__body">This is the heklp text

</div>
</div>
</div>  -->
		<!-- tooltip -->





		<div class="slds-text-heading--large">
			<h1 style="text-align:center;">EMAIL FROM LWC</h1>
		</div>
		<br>
		<lightning-card style="background-color: beige;">
			<!-- title input -->

			<div class="slds-form-element" style="margin-left: 53px;">
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left">
					<lightning-icon size="x-small"
						class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
						icon-name="utility:edit"></lightning-icon>
					<input type="text" id="title" placeholder="Add email title here" class="slds-input"
                        style="width:97%;" onchange={titlechange} />
                </div>

					<br>

					<div class="slds-grid slds-wrap">
						<div class="slds-col slds-size_12-of-12">
							<span>
                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left">

                                <lightning-icon size="x-small"
                                    class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                                    icon-name="utility:adduser"></lightning-icon>

                                <input type="text" id="member"
                                    placeholder="Select recipient user or enter recipient email address"
                                    class="slds-input" style="width:92%;" value={toAddress} onchange={toAddChange} />

                                <lightning-icon size="x-small"
                                    class="iconMargin slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                                    icon-name="utility:new" onclick={showModalBox}></lightning-icon>
                            </div>
                        </span>
						</div>
					</div>
					<br>

					<div class="slds-grid slds-wrap">
						<div class="slds-col slds-size_12-of-12">
							<span>
                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left">
                                <lightning-icon size="x-small"
                                    class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                                    icon-name="utility:adduser"></lightning-icon>
                                <input type="email" id="cc" placeholder="Add CC email address" class="slds-input"
                                    onchange={ccChange} style="width:97%;" />
                            </div>
                        </span>
						</div>
					</div>

					<br>

					<div class="slds-grid slds-wrap">
						<div class="slds-col slds-size_12-of-12">
							<span>
                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left">
                                <lightning-icon size="x-small"
                                    class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                                    icon-name="utility:adduser"></lightning-icon>
                                <input type="email" id="bcc" placeholder="Add BCC email address" class="slds-input"
                                    onchange={bccChange} style="width:97%;" />
                            </div>
                        </span>
						</div>
					</div>

					<br>
					<div>
						<!-- rich text -->
						<lightning-input-rich-text style="width:97%" placeholder="Enter your email message here"
							onchange={richTextValueChange} formats="font, bold, italic, underline, strike,
    list, indent, align, link, image, clean, code, code-block, color, background, header">
							<lightning-rich-text-toolbar-button-group slot="toolbar" aria-label="First group">
								<lightning-rich-text-toolbar-button icon-name="utility:insert_tag_field"
									icon-alternative-text="Code Snippet" onclick={handleCodeBlockButtonClick}>
								</lightning-rich-text-toolbar-button>
							</lightning-rich-text-toolbar-button-group>
						</lightning-input-rich-text>

						<!-- rich text -->


					</div>
				</div>
				<br>
				<!-- submit button -->
				<lightning-button variant="success" label="Send" title="Successful action" onclick={handleSendEmail}
					class="submitc slds-m-left_x-small" style="width: 175px;"></lightning-button>
				<!-- submit button -->



		</lightning-card>

		<!-- modal start -->
		<template if:true={isShowModal}>

			<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
				aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<!-- modal header start -->
					<header class="slds-modal__header">
						<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                            title="Close" onclick={hideModalBox}>
                            <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                                size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
						<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Add Members</h2>
					</header>

					<!-- modal body start -->
					<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

						<lightning-dual-listbox name="Users" label="Select Users" source-label="Available"
							selected-label="Selected" field-level-help="Select your Users" options={finalList}
							onchange={changeevent} value={dualListValue}>
						</lightning-dual-listbox>

					</div>

					<!-- modal footer start-->
					<footer class="slds-modal__footer">
						<button class="slds-button slds-button_neutral" onclick={hideModalBox}>Save</button>
					</footer>

				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</template>
		<!--  -->
	</lightning-card>
</template>